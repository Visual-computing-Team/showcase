<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Aplicaciones con daltonismo # Selección de la imagen # A continuación puede ingresar la URL de la imagen que desea procesar
Simulación de daltonismo # Para realizar una simulación del daltonismo sobre una imagen se realiza un procesado a través del cual se le aplica un determinado filtro para cada uno de los tipos de daltonismo tratados (Protanopia, deuteranopia y tritanopia).
Para aplicar un filtro se recorre cada uno de los pixeles de la imagen y se obtienen sus valores para los canales RGB (rojo, verde, azul)."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Aplicaciones con daltonismo # Selección de la imagen # A continuación puede ingresar la URL de la imagen que desea procesar
Simulación de daltonismo # Para realizar una simulación del daltonismo sobre una imagen se realiza un procesado a través del cual se le aplica un determinado filtro para cada uno de los tipos de daltonismo tratados (Protanopia, deuteranopia y tritanopia).
Para aplicar un filtro se recorre cada uno de los pixeles de la imagen y se obtienen sus valores para los canales RGB (rojo, verde, azul)."><meta property="og:type" content="article"><meta property="og:url" content="https://Visual-computing-Team/showcase/docs/Taller-1/3-Aplicaciones-con-daltonismo/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-31T22:35:31-05:00"><title>3) Aplicaciones Con Daltonismo | Showcase visual computing team</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase visual computing team</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/showcase/docs/Equipo/>Equipo</a><ul></ul></li><li class=book-section-flat><span>Taller 1</span><ul><li><a href=/showcase/docs/Taller-1/1-Marco-te%C3%B3rico/>1) Marco Teórico</a></li><li><a href=/showcase/docs/Taller-1/2-Daltonismo/>2) Daltonismo</a></li><li><a href=/showcase/docs/Taller-1/3-Aplicaciones-con-daltonismo/ class=active>3) Aplicaciones Con Daltonismo</a></li><li><a href=/showcase/docs/Taller-1/4-Luminosidad/>4) Luminosidad</a></li></ul></li><li class=book-section-flat><span>Taller 2</span><ul><li><a href=/showcase/docs/Taller-2/PhotoMosaic/>Photo Mosaic</a></li><li><a href=/showcase/docs/Taller-2/visual-Posteffects/>Visual Posteffects</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>3) Aplicaciones Con Daltonismo</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#aplicaciones-con-daltonismo>Aplicaciones con daltonismo</a><ul><li><a href=#selección-de-la-imagen>Selección de la imagen</a></li><li><a href=#simulación-de-daltonismo>Simulación de daltonismo</a></li><li><a href=#corrección-con-el-método-de-contraste-rgb>Corrección con el método de contraste RGB</a></li><li><a href=#corrección-con-el-método-de-contraste-hsv>Corrección con el método de contraste HSV</a><ul><li></li></ul></li><li><a href=#conclusiones>Conclusiones</a></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=aplicaciones-con-daltonismo>Aplicaciones con daltonismo
<a class=anchor href=#aplicaciones-con-daltonismo>#</a></h1><h2 id=selección-de-la-imagen>Selección de la imagen
<a class=anchor href=#selecci%c3%b3n-de-la-imagen>#</a></h2><p>A continuación puede ingresar la URL de la imagen que desea procesar</p><iframe id=text-input style=width:735px;height:65px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/text-input.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=simulación-de-daltonismo>Simulación de daltonismo
<a class=anchor href=#simulaci%c3%b3n-de-daltonismo>#</a></h2><p>Para realizar una simulación del daltonismo sobre una imagen se realiza un procesado a través del cual se le aplica un determinado filtro para cada uno de los tipos de daltonismo tratados (Protanopia, deuteranopia y tritanopia).</p><p>Para aplicar un filtro se recorre cada uno de los pixeles de la imagen y se obtienen sus valores para los canales RGB (rojo, verde, azul). Posteriormente para cada pixel se realiza un ajuste en cada canal modificando su valor para que una persona con percepción del color normal lo perciba como lo hace una persona daltónica.</p><p>Por ejemplo en el caso del filtro para simular protanopia los canales de color varían de la siguiente manera:</p><ul><li>Canal rojo (r): se reduce a 0.567 veces su valor original, mientras que el canal verde (g) se aumenta a 0.433 veces su valor original. Esto refleja el hecho de que las personas con protanopia tienen dificultades para distinguir entre el rojo y el verde.</li><li>Canal verde (g): también se reduce a 0.442 veces su valor original, mientras que el canal rojo (r) se aumenta a 0.558 veces su valor original. Esto ayuda a equilibrar el ajuste realizado en los canales rojo y verde en el paso anterior.</li><li>Canal azul (b): se deja sin cambios, ya que la protanopia no afecta la percepción del azul.</li></ul><p>De igual forma se realiza la modificación para los otros tipos de daltonismo. Estos valores de modificación corresponden a la sensibilidad relativa entre la persona con daltonismo y la persona de visión normal.</p><details><summary>Simulación de daltonismo</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// Loop through each pixel in the image
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>4</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Get the RGB values for the current pixel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Apply the appropriate filter to the pixel based on the filterType parameter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>filterType</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;protanopia&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.567</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.433</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.558</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.442</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>filterType</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;deuteranopia&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.625</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.375</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.7</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.3</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>filterType</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;tritanopia&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.95</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.05</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.433</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.567</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.475</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.525</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Set the filtered pixel&#39;s RGB values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>255</span>; <span style=color:#75715e>// Set alpha value to 255 (fully opaque)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div></div></details><iframe id="daltonismo.js?version=5" style=width:735px;height:800px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/daltonismo.js?version=5></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=corrección-con-el-método-de-contraste-rgb>Corrección con el método de contraste RGB
<a class=anchor href=#correcci%c3%b3n-con-el-m%c3%a9todo-de-contraste-rgb>#</a></h2><p>A continuación se presenta una primera aproximación para la corrección de daltonismo en la imagen usando el método de contraste RGB, que implica ajustar los valores de los canales rojo y verde de cada píxel de la imagen utilizando una constante (llamada rgContrast en el código). Se aplica una función de potencia a los valores de los canales rojo y verde para ajustar su valor y, finalmente, se asignan los valores ajustados de los canales rojo y verde al píxel actual y se mantiene sin cambios el valor del canal azul.</p><p>La constante rgContrast se utiliza para ajustar el contraste entre los canales rojo y verde de manera que se puedan distinguir mejor. El valor de 2.6 se ha determinado empíricamente y se ha demostrado que funciona bien para corregir algunos tipos de daltonismo, principalmente protanopia y deuteranopia.</p><details><summary>Corrección con el método de contraste RGB</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pixelIndex</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>pixelIndex</span>];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>pixelIndex</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>pixelIndex</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>// correct daltonism using RGB contrast method
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rgContrast</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2.6</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rAdjusted</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>pow</span>((<span style=color:#a6e22e>r</span><span style=color:#f92672>/</span><span style=color:#ae81ff>255</span>), <span style=color:#a6e22e>rgContrast</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>gAdjusted</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>pow</span>((<span style=color:#a6e22e>g</span><span style=color:#f92672>/</span><span style=color:#ae81ff>255</span>), <span style=color:#a6e22e>rgContrast</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>pixelIndex</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>rAdjusted</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>pixelIndex</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>gAdjusted</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>pixelIndex</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></div></details><iframe id="rgb-contrast.js?version=4" style=width:735px;height:400px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/rgb-contrast.js?version=4></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p>Ahora, se presenta la simulación de los 3 tipos de daltonismo luego de procesar la imagen a través del método de contraste RGB.</p><details><summary>Simulación de daltonismo con la corrección RGB</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// Loop through each pixel in the image
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>4</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Get the RGB values for the current pixel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Apply the appropriate filter to the pixel based on the filterType parameter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>filterType</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;protanopia&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.567</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.433</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.558</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.442</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>filterType</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;deuteranopia&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.625</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.375</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.7</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.3</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>filterType</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;tritanopia&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.95</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.05</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.433</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.567</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.475</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.525</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Set the filtered pixel&#39;s RGB values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>255</span>; <span style=color:#75715e>// Set alpha value to 255 (fully opaque)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div></div></details><iframe id="daltonismo-rgb.js?version=4" style=width:735px;height:800px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/daltonismo-rgb.js?version=4></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=corrección-con-el-método-de-contraste-hsv>Corrección con el método de contraste HSV
<a class=anchor href=#correcci%c3%b3n-con-el-m%c3%a9todo-de-contraste-hsv>#</a></h2><p>Una segunda aproximación para corregir el daltonismo es usando el método de contraste HSV. Inicialmente se procesa la imagen para pasarla del modelo de color RGB al modelo de color HSV. Entonces, se modifican los valores de matiz (H), saturación (S) y Valor o Brillo (V) en los colores de la imagen para hacerlos más distinguibles para personas con daltonismo.</p><p>En general, se varía el nivel de matíz para llevar a valores similares los colores rojos y verdes, la saturación y el brillo se reducen para que los colores sean más apagados y oscuros.</p><h4 id=ajuste-de-matiz>Ajuste de matiz
<a class=anchor href=#ajuste-de-matiz>#</a></h4><p>El ajuste se realiza utilizando una fórmula que involucra una constante &ldquo;m&rdquo; (que en este caso es 1.8465) y el rango de valores de matiz que corresponden a ciertas regiones de color. El valor de matiz se ajusta primero para que esté dentro del rango de 0 a 359 grados utilizando el operador módulo y estructuras de control if. Luego, el valor de matiz ajustado se pasa por la fórmula basada en la región en la que cae el valor de matiz:</p><ul><li>Si el valor de matiz está entre 0 y 60 grados o entre 170 y 270 grados, se divide por m.</li><li>Si el valor de matiz está entre 60 y 170 grados o entre 270 y 360 grados, se desplaza 60 grados y luego se divide por m.</li></ul><p>Después de aplicar la fórmula, se redondea el valor resultante al entero más cercano y se verifica que esté dentro del rango de 0 a 359 grados. Si es menor que 0, se le suma 360 grados; si es mayor que 359, se le resta 360 grados. Finalmente, la función devuelve el valor de matiz ajustado.</p><h4 id=conversión-de-rgb-a-hsv>Conversión de RGB a HSV
<a class=anchor href=#conversi%c3%b3n-de-rgb-a-hsv>#</a></h4><p>Se toma como entrada un valor RGB y se descompone en sus componentes rojo, verde y azul (r, g, b). Luego, se determina el valor máximo y mínimo de los componentes RGB para calcular el rango de diferencia (delta) entre ellos.</p><p>A continuación, se calcula el valor de la saturación y el valor de brillo a partir de los valores máximo y mínimo, y se determina el valor del tono en función de los valores de r, g y b y de la posición de éstos dentro del rango de diferencia. La fórmula utilizada para calcular el tono es diferente dependiendo del valor máximo.</p><h5 id=conversión-de-hsv-a-rgb>Conversión de HSV a RGB
<a class=anchor href=#conversi%c3%b3n-de-hsv-a-rgb>#</a></h5><p>Se comienza extrayendo los valores de h, s y v del valor hsv. Luego, se utilizan una serie de cálculos para determinar los valores de rojo, verde y azul que representan el color en formato RGB. Estos cálculos implican la conversión de la matiz de un ángulo a un índice en una escala de 6, y la utilización de esa escala para determinar los valores de rojo, verde y azul basados en los valores de saturación y valor.</p><details><summary>Corrección con el método de contraste HSV</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>//Convert rgb value to hsv
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>rgbToHsv</span>(<span style=color:#a6e22e>rgb</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>red</span>(<span style=color:#a6e22e>rgb</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>green</span>(<span style=color:#a6e22e>rgb</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>blue</span>(<span style=color:#a6e22e>rgb</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>max</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>min</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>delta</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>max</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>min</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>h</span>, <span style=color:#a6e22e>s</span>, <span style=color:#a6e22e>v</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>max</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>delta</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>max</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>delta</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>r</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>max</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>g</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>b</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>delta</span>;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>g</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>max</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>b</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>r</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>delta</span>;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>r</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>g</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>delta</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> <span style=color:#f92672>*=</span> <span style=color:#ae81ff>60</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>h</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#a6e22e>h</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>360</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>v</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>max</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>h</span>, <span style=color:#a6e22e>s</span>, <span style=color:#a6e22e>v</span> };
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Convert hsv to rgb
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>hsvToRgb</span>(<span style=color:#a6e22e>hsv</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>h</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>s</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>v</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>h</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>f</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>i</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pp</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>s</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>q</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>f</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>s</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>t</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>f</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>s</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>switch</span> (<span style=color:#a6e22e>i</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>v</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>t</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pp</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>q</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>v</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pp</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pp</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>v</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>t</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>3</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pp</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>q</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>v</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>4</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>t</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pp</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>v</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>5</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>v</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pp</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>q</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>g</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Go throw the image to change the pixels value
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pixel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>); <span style=color:#75715e>// get the color of the pixel in the original image
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>hsv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>RGBToHsv</span>(<span style=color:#a6e22e>pixel</span>); <span style=color:#75715e>// convert the color from RGB to HSV
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>// adjust the hue, saturation, and value values based on the type of daltonism
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#75715e>// for example, for protanopia, we need to shift the hue towards blue
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>adjustHueForProtanopia</span>(<span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>h</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>adjustSaturationForProtanopia</span>(<span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>s</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>v</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>adjustValueForProtanopia</span>(<span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>v</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>correctedPixel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hsvToRgb</span>(<span style=color:#a6e22e>hsv</span>); <span style=color:#75715e>// convert the color back to RGB
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>correctedImg</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>correctedPixel</span>); <span style=color:#75715e>// set the corrected pixel color in the new image
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Functions to adjust the values of HSV model for protanopia
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>adjustHueForProtanopia</span>(<span style=color:#a6e22e>hue</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.8465</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>maxHue</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>359</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>minHue</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>hue</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hue</span> <span style=color:#f92672>%</span> <span style=color:#ae81ff>360</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>hue</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>hue</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>360</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>result</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>hue</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>minHue</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>hue</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>60</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hue</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>m</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>hue</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>hue</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>170</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>hue</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>60</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>m</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>hue</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>170</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>hue</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>270</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hue</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>m</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>hue</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>360</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>170</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>m</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>round</span>(<span style=color:#a6e22e>result</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>result</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>minHue</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>360</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>result</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>maxHue</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>360</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>result</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>adjustSaturationForProtanopia</span>(<span style=color:#a6e22e>saturation</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.3</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>maxSaturation</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>minSaturation</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>result</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>saturation</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.1</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>saturation</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>saturation</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.8</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>saturation</span> <span style=color:#f92672>**</span> <span style=color:#a6e22e>m</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>maxSaturation</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>result</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>adjustValueForProtanopia</span>(<span style=color:#a6e22e>value</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.4</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>maxVal</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>minVal</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>result</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>value</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.1</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>value</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>value</span> <span style=color:#f92672>**</span> <span style=color:#a6e22e>m</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>minVal</span>, Math.<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>maxVal</span>, <span style=color:#a6e22e>result</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>result</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><iframe id="hsv-contrast.js?version=3" style=width:735px;height:400px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/hsv-contrast.js?version=3></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p>Finalmente, se presenta la simulación de daltonismo con la imagen corregida luego de ser procesada mediante el método de corrección HSV</p><details><summary>Simulación de daltonismo con la corrección HSV</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// Loop through each pixel in the image
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>4</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Get the RGB values for the current pixel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Apply the appropriate filter to the pixel based on the filterType parameter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>filterType</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;protanopia&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.567</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.433</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.558</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.442</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>filterType</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;deuteranopia&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.625</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.375</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.7</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.3</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>filterType</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;tritanopia&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.95</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.05</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.433</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.567</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.475</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.525</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Set the filtered pixel&#39;s RGB values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filteredImg</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>255</span>; <span style=color:#75715e>// Set alpha value to 255 (fully opaque)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div></div></details><iframe id="daltonismo-hsv.js?version=4" style=width:735px;height:800px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/daltonismo-hsv.js?version=4></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=conclusiones>Conclusiones
<a class=anchor href=#conclusiones>#</a></h2><blockquote class="book-hint info"><p>La simulación de daltonismo realiza una correcta presentación de los 3 tipos de daltonismo planteados. Permite apreciar la baja sensibilidad a los colores según el tipo de anomalía visual, con lo cual se puede comprender un poco mejor el cómo ve una persona con una de estas afecciones.</p><p>Las dos aproximaciones de corrección del daltonismo funcionan en un nivel básico. En gran parte de las imágenes presentadas se logran diferenciar mejor los elementos que las componen. Sin embargo, se encontró que el método de contraste RGB se desempeña un poco mejor con fotografías, y el método de constraste HSV presenta un mejor resultado en imágenes planas como los <a href=https://es.wikipedia.org/wiki/Cartas_de_Ishihara>tests de ishihara</a>.</p></blockquote><h2 id=referencias>Referencias
<a class=anchor href=#referencias>#</a></h2><blockquote class="book-hint danger">El código antes presentado fue realizado en colaboración con la herramienta de procesado de lenguaje Chat GPT</blockquote></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/298142297893b5bbc97c474f2540a76ef5759e87 title='Last modified by AndersonVargas8 | April 1, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>April 1, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#aplicaciones-con-daltonismo>Aplicaciones con daltonismo</a><ul><li><a href=#selección-de-la-imagen>Selección de la imagen</a></li><li><a href=#simulación-de-daltonismo>Simulación de daltonismo</a></li><li><a href=#corrección-con-el-método-de-contraste-rgb>Corrección con el método de contraste RGB</a></li><li><a href=#corrección-con-el-método-de-contraste-hsv>Corrección con el método de contraste HSV</a><ul><li></li></ul></li><li><a href=#conclusiones>Conclusiones</a></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></div></aside></main></body></html>